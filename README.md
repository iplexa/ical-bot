# Telegram Бот для работы с iCal календарями

## Описание
Бот позволяет получать уведомления о событиях из iCal календарей в Telegram.

## Установка

1. Клонируйте репозиторий:
```
git clone <url-репозитория>
cd <папка-проекта>
```

2. Установите зависимости:
```
pip install -r requirements.txt
```

3. Создайте бота в Telegram через [@BotFather](https://t.me/BotFather) и получите токен

4. Создайте файл `.env` и настройте переменные окружения (см. раздел ниже)

## Конфигурация

Создайте файл `.env` в корне проекта и настройте следующие параметры:

```
# Токен вашего Telegram бота, полученный от @BotFather
BOT_TOKEN=ваш_токен_бота

# Настройки для проверки событий
CHECK_INTERVAL=60  # Интервал проверки событий в секундах (по умолчанию 5 минут)
NOTIFICATION_TIME=10  # За сколько минут до события отправлять уведомление

# Настройки базы данных PostgreSQL
DATABASE_URL=postgresql://postgres:postgres@localhost/telegram_bot

# ID владельца бота (может назначать администраторов)
OWNER_ID=123456789
```

## Запуск

### Локальный запуск
```
python main.py
```

### Запуск с помощью Docker

1. Соберите Docker-образ:
```bash
docker build -t telegram-bot .
```

2. Запустите контейнер:
```bash
docker run -d \
  --name bot-container \
  --env-file .env \
  telegram-bot
```

## Примечания

- Бот проверяет наличие новых событий каждые 5 минут
- Уведомления отправляются за 15 минут до начала события
- Для корректной работы с часовыми поясами используется локальное время пользователя